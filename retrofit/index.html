<!DOCTYPE html>
<html lang="en">
	
	<head>
		
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="Description" content="An interactive map of land use">
		
		<!-- Google tag (gtag.js) -->
  	<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q11V10CDRV"></script>
  	<script>
  		window.dataLayer = window.dataLayer || [];
  		function gtag () {dataLayer.push (arguments);}
  		gtag('js', new Date ());
  		gtag('config', 'G-Q11V10CDRV');
  	</script>
  	
  	<!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TXQZCMJT');</script>
    <!-- End Google Tag Manager -->
		
		<!-- Favicon -->
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
		<link rel="icon" href="/favicon.ico" type="image/x-icon">
		
		<!-- Social media -->
		<meta property="og:title" content="Carbon & Place">
		<meta property="og:description" content="An interactive map of land use">
		<meta property="og:image" content="/images/thumbnail.jpg">
		<meta property="twitter:image" content="/images/thumbnail.jpg">
		<meta property="og:url" content="https://www.carbon.place">
		<meta name="twitter:card" content="summary_large_image">
		<meta property="og:site_name" content="Carbon & Place">
		<meta name="twitter:image:alt" content="Carbon & Place thumbnail">
		<title>Retrofit Explorer</title>
		
		<!-- PWA support -->
		<link rel="manifest" href="/manifest.webmanifest">
		<link rel="apple-touch-icon" href="/images/icons/192.png">
		<meta name="apple-mobile-web-app-status-bar" content="#ac1a40">
		<meta name="theme-color" content="#ac1a40">
		<script src="/app.js" defer></script>
		
		<!-- Map dependencies -->
		<script src="https://unpkg.com/pmtiles@3.0.6/dist/pmtiles.js"></script>
		<script src="/js/lib/geocoder/maplibre-gl-geocoder.min.js"></script>
		<link rel="stylesheet" href="/js/lib/geocoder/maplibre-gl-geocoder-small.css" type="text/css"/>
		<script src="https://unpkg.com/maplibre-gl@5.4.0/dist/maplibre-gl.js"></script>
		<link href="https://unpkg.com/maplibre-gl@5.4.0/dist/maplibre-gl.css" rel="stylesheet" />
		
		<!-- Styles -->
		<link rel="stylesheet" href="/css/main.css">
		<link rel="stylesheet" href="/css/map.css">

		<!-- Carbon & Place application -->
		<script src="/js/settings-common.js"></script>
		<script src="/js/datasets-common.js"></script>
		<script src="datasets.js"></script>
		<script src="settings.js"></script>
		<script src="/js/ui-common.js"></script>
		<script src="ui.js"></script>
		<script>
			document.addEventListener ('DOMContentLoaded', function () {
			  capUi.initialise (settings, datasets);
			  
			  // Some pages create the map asynchronously inside capUi.initialise.
			  // The original code assumed a global `map` existed immediately which
			  // caused "map is not defined" console errors. Poll for the map and
			  // attach the idle handler once it's available. If the map never
			  // appears within the timeout, attempt a best-effort toggle.
			  (function waitForMap(attemptsLeft) {
				if (window.map && typeof window.map.once === 'function') {
					window.map.once('idle', function () {
						if (capUi && typeof capUi.toggleLayer === 'function') {
							capUi.toggleLayer('zones'); // Hacky fix for mysterious initial layer display issue
						}
					});
				} else if (attemptsLeft > 0) {
					setTimeout(function () { waitForMap(attemptsLeft - 1); }, 200);
				} else {
					// Final fallback: call toggleLayer directly if possible. Some
					// implementations of capUi may handle the refresh without map.
					if (capUi && typeof capUi.toggleLayer === 'function') {
						capUi.toggleLayer('zones');
					}
				}
			  })(25); // ~5 seconds total (25 * 200ms)
			});
		</script>
		
		<!-- Font Awesome -->
		<link href="/assets/fontawesome/css/fontawesome.css" rel="stylesheet" defer>
		<link href="/assets/fontawesome/css/solid.min.css" rel="stylesheet" defer>
		
		<!-- Markdown conversion -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js" defer></script>
		
		<!-- Tooltips -->
		<script src="https://unpkg.com/@popperjs/core@2" defer></script>
		<script src="https://unpkg.com/tippy.js@6" defer></script>
		
		<!-- Charts -->
		<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1" defer></script>
		
	</head>
	
	<body>
	  
	  <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TXQZCMJT"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --> 
		
		<!-- Menu -->
		<nav>
			<a href="/"><img src="/images/ui/logo.webp" alt="Carbon & Place Logo" class="logo" /></a>
			<a href="/retrofit">Retrofit Explorer</a>
			<a href="/about/">About</a>
			<a href="/data/">Data</a>
			<a href="/manual/">Manual</a>
			<a href="#" id="expandtopnav" class="icon" aria-label="Expand menu"><i class="fa fa-bars"></i></a>
		</nav>
		
		<!-- Welcome Splash -->
		<div id="welcome-modal" class="welcome-modal">
			<span class="modal-close">&times;</span>
			<div>
				<h1>Retrofit Explorer</h1>
				<p style="background-color: #f58291"><b>Beta Tool</b>: This tool is still in development and may contain preliminary analysis, bugs, or incomplete features. Beta tools are intended to provide an early look at upcoming features and so results should be treated with care. The tool may change at any time without warning. We are interested in your feedback and you can report issues or bugs on <a href="https://github.com/PlaceBasedCarbonCalculator/PlaceBasedCarbonCalculator.github.io/issues" target="_blank" rel="noopener noreferrer">GitHub</a></p>
				
				<p>The Retrofit Explorer provides more detail buildings in the UK. For a full explanation of the tool please see the <a href="/manual/#retrofitexplorer">manual</a>. You can also access sections of the manual via the help buttons (<i class="fa fa-question-circle" aria-hidden="true"></i>)</p>
				
				<div class="feedbackbox">
					<div class="feedback-text">
						<h4>How can we improve this tool?</h4>
						<p>We would love to hear how you are using Carbon & Place and how we can make our tools more useful.</p>
						<p><a href="/about/feedback" class="opentool">Submit Feedback</a></p>
					</div>
					<img src="/images/ui/feedback.png" alt="Feedback" loading="lazy" class="feedback-image">
				</div>
				
				<p>Last updated: <span id="updatedate"></span>. You may need to <a href="https://www.minitool.com/news/f5-vs-ctrl-f5.html">clear your browser cache</a> to see the latest updates.</p>
			</div>
		</div>
		
		<!-- Cookies Warning  -->
		<div id="cookiewarning" class="cookiewarning">
			<p>We use cookies to measure how you use our website so we can understand how you interact with it, which helps us to make improvements. <a href="/privacy">Find out more.</a></p>
			<p>
				<button class="button buttonOK" value="1"><strong>OK</strong></button>
				<button class="button buttonNO" value=""><strong>No</strong></button>
			</p>
		</div>

		<!-- Loading Spinner -->
		<div class="spinner">
			<img src="/images/ui/spinner.svg" alt="Loading..." />
		</div>
		
		<!-- Main Content -->
		<div class="mapcontent">
			<div id="map"></div>
		</div>
		
		<!-- Basemap control box -->
		<div id="basemapcontrol" style="display: none;">
			<h3>Basemap</h3>
			<form id="basemapform">
				<!-- Values will be populated -->
			</form>
			<p><label class="switch"><input type="checkbox" id="placenamescheckbox" checked="checked" /><span class="slider round"></span></label> Place names</p>
			<p title="Makes the map look smoother and clearer (not suitable for lower-powered devices)"><label class="switch"><input type="checkbox" id="antialiascheckbox" /><span class="slider round"></span></label> Anti-alias</p>
		</div>
		
		<!-- Show Layer Selection Panel  Button-->
		<div id="showrightbox" class="showrightbox">
			<button class="float_button" aria-label="Show layers"><i class="fa fa-bars"></i></button>
		</div>
		
		<!-- Layer Selection Panel -->
		<div id="rightbox" class="rightbox">
			<button class="close-button" aria-label="Hide layers"><i class="fas fa-times"></i></button>
			<b> Layer Controls</b>
			
			
			<button class="accordion">Neighbourhoods</button>
			<div class="panel">
				<p><label><input type="checkbox" class="showlayer" data-layer="zones" value="false">Show layer</label></p>
				<p>
					<select name="field" class="updatelayer" data-layer="zones" aria-label="Neighbourhood  layer">
						<option value="epc_score_avg">Average EPC score</option>
						<option value="floor_area_avg" >Average floor area</option>
						<option value="modal_age">Building age (most common)</option>
						<option value="modal_wall" >Wall rating (most common)</option>
						<option value="modal_roof">Roof rating (most common)</option>
						<option value="modal_heat">Heating rating (most common)</option>
						<option value="modal_window">Windows rating (most common)</option>
						<option value="modal_mainheat">Heating type (most common)</option>
						<option value="modal_mainfuel">Fuel type (most common)</option>
						<option value="modal_floord">Floor type (most common)</option>
						<option value="modal_type">Building type (most common)</option>
						<option value="percent_EPC">% of homes with an EPC</option>
					</select>
					<button aria-label="Help purpose" class="helpbutton" data-help="retrofit-zones"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
				</p>
				<div id="zoneslegend" class="legendContextual">
					<div class="l_rVertical">
						<div class="lb"><span style="background-color: #ffffff"></span>&nbsp;</div>
					</div>
				</div>
				
				<p><label class="switch"><input type="checkbox" name="daysymetricmode" class="updatelayer" data-layer="zones" checked><span class="slider round"></span></label> Dasymetric</p>
				
			
			</div>
			
			<button class="accordion">Postcode Gas & Electric</button>
			<div class="panel">
				<p><label><input type="checkbox" class="showlayer" data-layer="postcodes" value="false">Show layer</label></p>
				<p>
				  	<select name="field" class="updatelayer" data-layer="postcodes" aria-label="Postcodes  layer">
						<option value="combined" selected>Combined Emissions</option>
						<option value="gas" >Gas Emissions</option>
						<option value="elec">Electricity Emissions</option>
					</select>
					<button aria-label="Help purpose" class="helpbutton" data-help="retrofit-postcodes"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
				</p>
				<div id="postcodeslegend" class="legendContextual">
					<div class="l_rHorizontal">
						<div class="lb"><span style="background-color: #ffffff"></span>&nbsp;</div>
					</div>
				</div>
				
			
			</div>
			
			<button class="accordion">Domestic EPC</button>
			<div class="panel">
				<p><label><input type="checkbox" class="showlayer" data-layer="epc_dom" value="false">Show layer</label></p>
				<p>
				  	<select name="field" class="updatelayer" data-layer="epc_dom" aria-label="Postcodes  layer">
						<option value="cur_rate" selected>Rating</option>
						<option value="b_type" >Building Type</option>
						<option value="p_type" >Property Type</option>
						<option value="age">Building Age</option>
						<option value="year">Last Assessed</option>
						<option value="area">Floor Area</option>
						<option value="floor_ee" >Floor Rating</option>
						<option value="water_ee" >Hot Water Rating</option>
						<option value="wind_ee" >Windows Rating</option>
						<option value="wall_ee" >Walls Rating</option>
						<option value="roof_ee" >Roof Rating</option>
						<option value="heat_ee" >Heating Rating</option>
						<option value="con_ee" >Controls Rating</option>
						<option value="light_ee" >Lighting Rating</option>
						<option value="sol_wat" >Solar Thermal</option>
						
					</select>
					<button aria-label="Help purpose" class="helpbutton" data-help="retrofit-epc-dom"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
				</p>
				<div id="epcdomlegend" class="legendContextual">
					<div class="l_rHorizontal">
						<div class="lb"><span style="background-color: #ffffff"></span>&nbsp;</div>
					</div>
				</div>
				
			
			</div>
			
			<button class="accordion">Non-Domestic EPC</button>
			<div class="panel">
				<p><label><input type="checkbox" class="showlayer" data-layer="epc_nondom" value="false">Show layer</label></p>
				<p>
				  	<select name="field" class="updatelayer" data-layer="epc_nondom" aria-label="Postcodes  layer">
						<option value="band" selected>Rating</option>
						<option value="transaction" >Transaction</option>
						<option value="area" >Floor Area</option>
						<option value="year">Last Assessed</option>
					</select>
					<button aria-label="Help purpose" class="helpbutton" data-help="retrofit-epc-nondom"><i class="fa fa-question-circle" aria-hidden="true"></i></button>
				</p>
				<div id="epcnondomlegend" class="legendContextual">
					<div class="l_rVertical">
						<div class="lb"><span style="background-color: #ffffff"></span>&nbsp;</div>
					</div>
				</div>
				
			
			</div>
			
			<button class="accordion">Boundaries</button>
			
			<div class="panel">
				<p><label><input type="checkbox" data-layer="wards" class="showlayer" value="false">Wards</label>
				<button aria-label="Help" class="helpbutton" data-help="boundaries-wards"><i class="fa fa-question-circle" aria-hidden="true"></i></button></p>
				<div class="legendContextual legendHorizontal">
					<div class="l_rHorizontal">
						<div class="lbHorizontal"><span style="background-color: #206b07"></span></div>
					</div>
				</div>
				<p><label><input type="checkbox" data-layer="la" class="showlayer" value="false">Local Authorities</label>
				<button aria-label="Help" class="helpbutton" data-help="boundaries-la"><i class="fa fa-question-circle" aria-hidden="true"></i></button></p>
				<div class="legendContextual legendHorizontal">
					<div class="l_rHorizontal">
						<div class="lbHorizontal"><span style="background-color: #6b0707"></span></div>
					</div>
				</div>
				<p><label><input type="checkbox" data-layer="parish" class="showlayer" value="false">Parish</label>
				<button aria-label="Help" class="helpbutton" data-help="boundaries-parish"><i class="fa fa-question-circle" aria-hidden="true"></i></button></p>
				<div class="legendContextual legendHorizontal">
					<div class="l_rHorizontal">
						<div class="lbHorizontal"><span style="background-color: #6b0763"></span></div>
					</div>
				</div>
				<p><label><input type="checkbox" data-layer="westminster" class="showlayer" value="false">Westminster Constituency</label>
				<button aria-label="Help" class="helpbutton" data-help="boundaries-westminster"><i class="fa fa-question-circle" aria-hidden="true"></i></button></p>
				<div class="legendContextual legendHorizontal">
					<div class="l_rHorizontal">
						<div class="lbHorizontal"><span style="background-color: #07366b"></span></div>
					</div>
				</div>
			</div>
			
		</div>
		
		<!-- Help box -->
		<div id="help_modal" class="modal">
			<span class="modal-close">&times;</span>
			<div id="helpcontent">
				<p><em>Help content loading&hellip;</em></p>
			</div>
		</div>
		
		
		<!-- Modal -->
		<div class="modal" id="postcodes-chartsmodal" style="display: none;">
			<div class="modal-header">
				<span class="modal-close">×</span>
				<h2 class="modal-title">Postcode Summary: XXXXX</h2>
			</div>
			<div class="modal-body">
			  
			  This page provides a summary of the <a href="https://www.gov.uk/government/publications/postcode-level-domestic-gas-and-electricity-consumption-about-the-data" target="_blank" rel="noopener noreferrer"> Postcode level domestic gas and electricity consumption data</a> published by the Department of Energy Security and Net Zero (DESNZ). 
			  
			  <div class="chart-wrapper" id="emissions-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Historical domestic gas and electricity emissions</h4>
					  <p class="chart-description">This chart shows the annual emissions from this postcode of gas and domestic buildings' electricity consumption. Use the drop down menu to select either total, median, or mean emissions. Note that some areas are off the gas grid, so no emissions are reported. In these places, heating may be provided by some other fuel type, such as coal, wood, or oil. Emissions have been calculated by Carbon & Place by multiplying energy consumption by annual emissions factors for the UK. For electricity consumption, emissions per kWh have declined in recent years, resulting in falling emissions even if electricity consumption has remained constant.</p>
					  <p>Chart type: 
      				<select id="select_emissions" name="select_emissions" onchange="makeChartPostcode()">
                  <option value="median" selected>Median</option>
                  <option value="mean">Mean</option>
                  <option value="total">Total</option>
              </select></p>
					</div>
					<div class="chart-container">
						<canvas id="emissions-chart"></canvas>
					</div>
				</div>
  			
  			
  			<div class="chart-wrapper" id="gas-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Historical gas consumption</h4>
					  <p class="chart-description">This chart shows domestic buildings' annual gas consumption in kilowatt hours in this postcode. Use the drop down menu to select either total, median, or mean consumption. Note that some areas are off the gas grid, so no emissions are reported. In these places, heating may be provided by some other fuel type, such as coal, wood, or oil.</p>
					  
					  <p>Chart type: <select id="select_gas" name="select_gas" onchange="makeChartPostcode()">
            <option value="median" selected>Median</option>
            <option value="mean">Mean</option>
            <option value="total">Total</option>
            </select></p>
					</div>
					<div class="chart-container">
						<canvas id="gas-chart"></canvas>
					</div>
				</div>
				
				
				<div class="chart-wrapper" id="electricity-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Historical electricity consumption</h4>
					  <p class="chart-description">This chart shows the annual electricity consumption in kilowatt hours by domestic buildings in this postcode. Use the drop down menu to select either total, median, or mean consumption. Consumption estimates are provided for different meter types (all, standard, and economy 7). However, data is not always available for all meter types.</p>
					  
					  <p>Chart type: <select id="select_electricity" name="select_electricity" onchange="makeChartPostcode()">
            <option value="median" selected>Median</option>
            <option value="mean">Mean</option>
            <option value="total">Total</option>
            </select></p>
					</div>
					
					<div class="chart-container">
						<canvas id="electricity-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="meters-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Historical gas and electricity meters</h4>
					  <p class="chart-description">This chart shows this postcode's total number of domestic gas and electricity meters. Electricity meters are also broken down into standard and economy 7 metres. In theory, the total number of all electricity meters should match the total of standard and economy 7 meters. However, there can be slight differences or even missing data due to how the data is reported. Therefore, two columns are shown for electricity meters to show the different counts.</p>
					  <p>Changes in the number of meters may indicate house building/demolition and the difference between gas and electricity meters can indicate the presence of off-gas grid homes.</p>
					</div>
					
					<div class="chart-container">
						<canvas id="meters-chart"></canvas>
					</div>
				</div>
  				
				
				
			</div>
		</div>
		
		
		<div class="modal" id="zones-chartsmodal" style="display: none;">
			<div class="modal-header">
				<span class="modal-close">×</span>
				<h2 class="modal-title">Neighbourhood Summary</h2>
			</div>
			<div class="modal-body">
			  
			  <p>This report summarises the Domestic Energy Performance Certificates from 2024. Since 2008, houses in the UK have had to get an Energy Performance Certificate (EPC) when they are sold or rented. An EPC requires a qualified assessor to visit the dwelling and take measurements of the building's construction and energy efficiency, which makes EPCs a valuable tool for understanding the energy use and carbon emissions from our homes. However, EPCs have significant problems. Research has shown that the EPC grades are not great at predicting real-world energy use and that as many as 80% of EPCs contain at least one error. EPCs are also not a representative sample of houses as they are only required under specific circumstances (e.g., when a house is sold). EPCs are likely to under-estimate the uptake of retrofit measures, as many people make home improvements just after buying a house. Thus, the EPC may be out of date shortly after it is issued. For all these reasons, EPC data should be treated with care. We have chosen to include it here as it is the best available data and helps draw attention to the low quality of housing data in the UK. For this tool, we took an extract of the EPC database from 2020 and summarised the results for each LSOA. In cases where a property had more than on EPC, only the most recent EPC was considered. Some of the data presented here are scraped from the text description written in the EPCs, so some missing data and double counting may exist. That means this data must be seen as indicative rather than conclusive.</p>
			  
			  <div class="chart-wrapper" id="epcrating-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">EPC ratings</h4>
					  <p class="chart-description">The EPC score is the headline result rating homes on a scale from A (most efficient) to G (least efficient). To meet the climate targets, we need all homes to be A or B graded as soon as possible.</p>
					</div>
					<div class="chart-container">
						<canvas id="epcrating-chart"></canvas>
					</div>
				</div>
  			
  			
  			<div class="chart-wrapper" id="buildingtype-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Building type</h4>
					  <p class="chart-description">A summary of the types of domestic buildings.</p>
					</div>
					<div class="chart-container">
						<canvas id="buildingtype-chart"></canvas>
					</div>
				</div>
  			
  			<div class="chart-wrapper" id="tenure-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Tenure</h4>
					  <p class="chart-description">A summary of type of tenure as recorded on the EPC. Not that is may have changed after the EPC was issued. Also as EPCs are required for rental properties but only required for owner-occupied properties at the time of sale, rental property may be over-represented in the EPC data.</p>
					</div>
					<div class="chart-container">
						<canvas id="tenure-chart"></canvas>
					</div>
				</div>
  			
  			
  			<div class="chart-wrapper" id="age-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Building Age</h4>
					  <p class="chart-description">A summary of the estimated construction date of dwellings.</p>
					</div>
					<div class="chart-container">
						<canvas id="age-chart"></canvas>
					</div>
				</div>
				
				
				<div class="chart-wrapper" id="wall-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Walls rating</h4>
					  <p class="chart-description">About 35% of heat is lost through a house's walls, so insulating the walls is an excellent way to reduce energy use. Most homes built after the 1920s have cavity walls that are easy and cheap to insulate with blown glass fibre wool. However, care must be taken to install the insulation correctly to prevent damp crossing the cavity, particularly in places that get driving rain or have stone cavity walls. In these properties, expanding foam of polystyrene bead insulation can be more expensive but reduce the risk of damp and mould growth. Older homes with solid walls require either external or internal insulation. These options are more expensive than cavity wall insulation, and internal insulation requires redecoration of the rooms. </p>
					</div>
					<div class="chart-container">
						<canvas id="wall-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="walld-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Walls description</h4>
					  <p class="chart-description">A description of the construction of the external walls. The most common type of wall are brick or block cavity walls, which are cheap and easy to insulate with cavity wall insulation. Other types of wall require more expensive internal or external insulation.</p>
					</div>
					<div class="chart-container">
						<canvas id="walld-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="roof-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Roof rating</h4>
					  <p class="chart-description">About 25% of heat is lost through the roof of the property. For homes with pitched roofs, loft insulation is one of the cheapest and easiest forms of insulation. The uptake of loft insulation has been reasonably high due to low cost and government incentives. However, many homes have less than the recommended minimum of 300mm of insulation, and flat roofs remain challenging to insulate. Dwellings with another dwelling above, such as flats are consider to not have a roof and a recorded as "Dwelling Above" only the top floor flat would have a roof rating.</p>
					</div>
					<div class="chart-container">
						<canvas id="roof-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="roofd-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Roof Description</h4>
					  <p class="chart-description">The type of roof affects how the building can be insulated. Pitched roofs are the easiest to insulate, while flat roofs are harder to insulate.</p>
					</div>
					<div class="chart-container">
						<canvas id="roofd-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="floor-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Floor rating</h4>
					  <p class="chart-description">About 15% of heat is lost through the floors of homes. EPCs are especially bad at recording the floor construction, so there is often a lot of missing data. Many homes built before the 1950s have suspended timber floors, which are relatively simple to insulate either by accessing the crawl space under the floor and attaching insulation to the underside or by lifting the floorboards. Homes built after the 1960s are more likely to have solid concrete floors. These are difficult to insulate as you either have to dig into the concrete slab or insulate on top of the slap, raising the floor level. Not this classification only applies to ground floor properties, so flats often are classified as "Dwelling Below". </p>
					</div>
					<div class="chart-container">
						<canvas id="floor-chart"></canvas>
					</div>
				</div>
				
				
				<div class="chart-wrapper" id="floord-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Floor Description</h4>
					  <p class="chart-description">Ground floors of homes typically come in two types. Suspended floors are raised slightly above ground level and outside air can circulate in the void beneath the floor to prevent mould and damp. This was common for homes built before the 1940s. Conversely solid floors are built directly on the ground usually of concrete and are more common in post-1940s homes. Both floor types can result in heat loss if not insulated, but the way the floors are insulated is different. This chart shows the distribution of different floor types.</p>
					</div>
					<div class="chart-container">
						<canvas id="floord-chart"></canvas>
					</div>
				</div>
				
				
				<div class="chart-wrapper" id="window-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Windows rating</h4>
					  <p class="chart-description">Around 10% of heat is lost through windows and doors. Most houses now have double-glazing, although many have the less efficient early forms of double-glazing. New double or triple glazing is an expensive option for energy saving. However, it is often installed as it is perceived to add value to the property.</p>
					</div>
					<div class="chart-container">
						<canvas id="window-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="glazing-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Glazing type</h4>
					  <p class="chart-description">A summary of the type of glazing used.</p>
					</div>
					<div class="chart-container">
						<canvas id="glazing-chart"></canvas>
					</div>
				</div>
				
				
				<div class="chart-wrapper" id="mainheat-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Main heating system rating</h4>
					  <p class="chart-description">This chart shows the efficiency rating of heating systems. An efficient heating system uses less energy than an inefficient system to provide the same amount of heating. Note that a very efficient heating system may not be low carbon. For example a modern condensing gas boiler has an efficiency of over 90% yet is it still a high carbon heating source as it is fuelled by gas.  For more details see the heating descriptions below.</p>
					</div>
					<div class="chart-container">
						<canvas id="mainheat-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="mainheatdesc-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Main heating system description</h4>
					  <p class="chart-description">Most homes in England have gas central heating, often with a condensing boiler. If properly installed and maintained, these have high efficiencies (above 90%). As gas is a fossil fuel, we need to replace all gas boilers with low carbon heating systems such as heat pumps as soon as possible. While heat pumps are even more efficient than gas boilers, they are significantly more expensive to install (around £10,000 for a new heat pump vs £2,000 for a new gas boiler). It is more common to find homes heated with oil boilers, storage heaters, or even coal fires off the gas grid. These heating types are both high carbon and expensive to operate, so heat pumps can be more financially attractive.</p>
					</div>
					<div class="chart-container">
						<canvas id="mainheatdesc-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="mainfuel-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Main fuel description</h4>
					  <p class="chart-description">Description of the main type of heating fuel used in the home.</p>
					</div>
					<div class="chart-container">
						<canvas id="mainfuel-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="mainheatcontrol-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Heating Control Rating</h4>
					  <p class="chart-description">Heating controls help save energy by turning off the heating when it is not needed. Common types of heating control include thermostats, timers, and Thermostatic Radiator Valves (TRVs). Upgrading heating controls can be a low-cost way to get a small reduction in energy use.</p>
					</div>
					<div class="chart-container">
						<canvas id="mainheatcontrol-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="controld-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Heating Control Description</h4>
					  <p class="chart-description">Heating controls can come in lots of different combinations, but some of the most common combinations are shown in this charts. A good heating system should have a programmer to allow you to decide when in the day you want heating; ad thermostat so that the heating system turns off once the house is warm, and Thermostatic Radiator Valves (TRVs) to enable room-to-room adjustments. More complex heating systems have heating zones enabling different settings for different parts of the home.</p>
					</div>
					<div class="chart-container">
						<canvas id="controld-chart"></canvas>
					</div>
				</div>
				
				
				<div class="chart-wrapper" id="water-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Hot water system rating</h4>
					  <p class="chart-description">The energy efficiency of the hot water system is rated from Very Good to Very Poor.</p>
					</div>
					<div class="chart-container">
						<canvas id="water-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="waterd-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Hot water system description</h4>
					  <p class="chart-description">A description of how hot water is provided. The most common approach is for hot water to be provided by the main heating system. However some homes have separate space and water heating systems.</p>
					</div>
					<div class="chart-container">
						<canvas id="waterd-chart"></canvas>
					</div>
				</div>
				
				
				<div class="chart-wrapper" id="light-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Lights Rating</h4>
					  <p class="chart-description">Lights are one of the easiest energy efficiency measures to adopt. Modern LED bulbs are highly efficient and affordable. Since the ban on inefficient light bulbs in 2016 and 2019 a gradual phase out of inefficient lighting is expected. This may not yet be reflected in EPC data as EPC can be several year out of date.</p>
					</div>
					<div class="chart-container">
						<canvas id="light-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="solarpv-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Solar Photovoltaics</h4>
					  <p class="chart-description">Solar PV panels generate electricity from sunlight. While the cost of PV panels has dropped significantly in recent years the cost of installing them on the roof of a building can still be high. Homes with solar panels can use the electricity or sell it to the grid. </p>
					</div>
					<div class="chart-container">
						<canvas id="solarpv-chart"></canvas>
					</div>
				</div>
				
				<div class="chart-wrapper" id="solarthermal-chartrow" style="display: block;">
					<div class="chart-text"> 
					  <h4 class="chart-title">Solar Thermal</h4>
					  <p class="chart-description">Solar Thermal panels provide hot water from sunlight. Often in the UK they are pre-heating the water and some other technology (such as immersion heater) is needed to bring the water up to full temperature.  However, they can be a cost effective way to reduce energy demand for hot water even on cloudy days.</p>
					</div>
					<div class="chart-container">
						<canvas id="solarthermal-chart"></canvas>
					</div>
				</div>
				
				
			</div>
		</div>
		
		
		<div id="overlay"></div>
		
		<!-- Template for map popup -->
		<template id="epc_dom-popup">
			<div class="mappopup">
				<h4>Domestic EPC</h4>
				<table>
					<tr><th>Variable</th><th>Value</th></tr>
					<tr><th>Address</td><td>{addr}</td></tr>
					<tr><th>Rating</td><td>{cur_rate} {cur_ee}/{per_ee}</td></tr>
					<tr><th>Building type</td><td>{b_type} {p_type}</td></tr>
					<tr><th>Building Age</td><td>{age}</td></tr>
					<tr><th>Tenure</td><td>{tenure}</td></tr>
					<tr><th>Last Assessed</td><td>{year}</td></tr>
					<tr><th>Floor area</td><td>{area} (m2)</td></tr>
					<tr><th>Roof</td><td>{roof_d} ({roof_ee})</td></tr>
					<tr><th>Walls</td><td>{wall_d} ({wall_ee})</td></tr>
					<tr><th>Floor</td><td>{floor_d} ({floor_ee})</td></tr>
					<tr><th>Windows</td><td>{wind_d} ({wind_ee})</td></tr>
					<tr><th>Heating</td><td>{heat_d} ({heat_ee})</td></tr>
					<tr><th>Heating Fuel</td><td>{fuel}</td></tr>
					<tr><th>Heating Controls</td><td>{con_d} ({con_ee})</td></tr>
					<tr><th>Hot water</td><td>{water_d} ({water_ee})</td></tr>
					<tr><th>Solar Water Heating</td><td>{sol_wat}</td></tr>
					<tr><th>Solar PV</td><td>{pv}</td></tr>
					<tr><th>Lights</td><td>{light_ee}</td></tr>
					
				</table>
		</template>
		
		
		<template id="epc_nondom-popup">
			<div class="mappopup">
				<h4>Non-Domestic EPC</h4>
				<table>
					<tr><th>Variable</th><th>Value</th></tr>
					<tr><th>Address</td><td>{adr2}</td></tr>
					<tr><th>Rating</td><td>{band} ({rating})</td></tr>
					<tr><th>Building type</td><td>{type}</td></tr>
					<tr><th>Transaction</td><td>{transaction}</td></tr>
					<tr><th>Last Assessed</td><td>{year}</td></tr>
					<tr><th>Floor area</td><td>{area} (m2)</td></tr>
					<tr><th>Fuel</td><td>{fuel}</td></tr>
				</table>
		</template>

	</body>
	
</html>